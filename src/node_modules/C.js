const debug = require('debug')
const bel = require('bel')

module.exports = C

function C(protocol) {
    const log = debug('C')
    const sendParent = protocol( receive )
    sendParent('hello B')
    const btn = bel`<button onclick=${onclick}>C</button>`
    const el = bel`<div>${btn}</div>`
    return el
    function onclick(event) {
        sendParent({from: 'C', type: 'click'})
    }
    function receive( msg ) {
        log('msg from B', msg)
    }
}